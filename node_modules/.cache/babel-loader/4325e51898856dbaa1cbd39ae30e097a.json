{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/social-media-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/projects/social-media-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as API from'../api/index';export var fetchPosts=function fetchPosts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$API$getPosts,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.getPosts();case 2:_yield$API$getPosts=_context.sent;data=_yield$API$getPosts.data;dispatch({type:'posts/fetchingPosts',payload:data});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var createPost=function createPost(newPost){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$API$createPost,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.createPost(newPost);case 2:_yield$API$createPost=_context2.sent;data=_yield$API$createPost.data;dispatch({type:'posts/postCreated',payload:data});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updatePost=function updatePost(currentId,post){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var _yield$API$updatePost,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return API.updatePost(currentId,post);case 2:_yield$API$updatePost=_context3.sent;data=_yield$API$updatePost.data;dispatch({type:'posts/postUpdated',payload:data});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var deletePost=function deletePost(postId){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return API.deletePost(postId);case 2:dispatch({type:'posts/postDeleted',payload:postId});case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var likePost=function likePost(postId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var _yield$API$likePost,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return API.likePost(postId);case 2:_yield$API$likePost=_context5.sent;data=_yield$API$likePost.data;dispatch({type:'posts/postLiked',payload:data});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var signIn=function signIn(formData,navigateTo){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){var _yield$API$signIn,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return API.signIn(formData);case 3:_yield$API$signIn=_context6.sent;data=_yield$API$signIn.data;dispatch({type:'auth/userLoggedIn',payload:data});navigateTo('/post');_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 12:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var signUp=function signUp(formData,navigateTo){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dispatch){var _yield$API$signUp,data;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return API.signUp(formData);case 3:_yield$API$signUp=_context7.sent;data=_yield$API$signUp.data;dispatch({type:'auth/userSignedUp',payload:data});navigateTo('/post');_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var logout=function logout(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(dispatch){return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:try{dispatch({type:'auth/userLoggedOut'});}catch(error){console.log(error);}case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"names":["API","fetchPosts","dispatch","getPosts","data","type","payload","createPost","newPost","updatePost","currentId","post","deletePost","postId","likePost","signIn","formData","navigateTo","console","log","signUp","logout","error"],"sources":["D:/projects/social-media-app/client/src/actions/actions.js"],"sourcesContent":["import * as API  from '../api/index';\r\n\r\nexport const fetchPosts = () => async (dispatch) => {\r\n    const { data } = await API.getPosts();\r\n    dispatch({type: 'posts/fetchingPosts', payload: data});\r\n}\r\n  \r\nexport const createPost = (newPost) => async (dispatch) => {\r\n    const {data}  = await API.createPost(newPost);\r\n    dispatch({ type: 'posts/postCreated', payload: data });    \r\n}\r\n\r\nexport const updatePost = (currentId, post) => async (dispatch) => {\r\n    const { data } = await API.updatePost(currentId, post);\r\n    dispatch({ type: 'posts/postUpdated', payload: data });\r\n}\r\n\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n    await API.deletePost(postId);\r\n    dispatch({ type: 'posts/postDeleted', payload: postId });    \r\n}\r\n\r\nexport const likePost = (postId) => async (dispatch) => {\r\n    const { data } = await API.likePost(postId);\r\n    dispatch({ type: 'posts/postLiked', payload: data });\r\n}\r\n\r\nexport const signIn = (formData, navigateTo) => async (dispatch) => {\r\n    try {\r\n        const {data} = await API.signIn(formData);\r\n        dispatch({ type: 'auth/userLoggedIn', payload:data });\r\n        navigateTo('/post');    \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n \r\nexport const signUp = (formData, navigateTo) => async (dispatch) => {\r\n    try {\r\n        const { data } = await API.signUp(formData);\r\n        dispatch({ type: 'auth/userSignedUp', payload: data})\r\n        navigateTo('/post');\r\n    \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'auth/userLoggedOut'});\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n"],"mappings":"kQAAA,MAAO,GAAKA,IAAG,KAAO,cAAc,CAEpC,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,oGAAS,iBAAOC,QAAQ,uKACpBF,IAAG,CAACG,QAAQ,EAAE,0CAA7BC,IAAI,qBAAJA,IAAI,CACZF,QAAQ,CAAC,CAACG,IAAI,CAAE,qBAAqB,CAAEC,OAAO,CAAEF,IAAI,CAAC,CAAC,CAAC,sDAC1D,iEAED,MAAO,IAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIC,OAAO,oGAAK,kBAAON,QAAQ,8KAC5BF,IAAG,CAACO,UAAU,CAACC,OAAO,CAAC,6CAAtCJ,IAAI,uBAAJA,IAAI,CACXF,QAAQ,CAAC,CAAEG,IAAI,CAAE,mBAAmB,CAAEC,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,wDAC1D,mEAED,MAAO,IAAMK,WAAU,CAAG,QAAbA,WAAU,CAAIC,SAAS,CAAEC,IAAI,oGAAK,kBAAOT,QAAQ,8KACnCF,IAAG,CAACS,UAAU,CAACC,SAAS,CAAEC,IAAI,CAAC,6CAA9CP,IAAI,uBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAE,mBAAmB,CAAEC,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,wDAC1D,mEAED,MAAO,IAAMQ,WAAU,CAAG,QAAbA,WAAU,CAAIC,MAAM,oGAAK,kBAAOX,QAAQ,+IAC3CF,IAAG,CAACY,UAAU,CAACC,MAAM,CAAC,QAC5BX,QAAQ,CAAC,CAAEG,IAAI,CAAE,mBAAmB,CAAEC,OAAO,CAAEO,MAAO,CAAC,CAAC,CAAC,wDAC5D,mEAED,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAID,MAAM,oGAAK,kBAAOX,QAAQ,4KACxBF,IAAG,CAACc,QAAQ,CAACD,MAAM,CAAC,2CAAnCT,IAAI,qBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAE,iBAAiB,CAAEC,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,wDACxD,mEAED,MAAO,IAAMW,OAAM,CAAG,QAATA,OAAM,CAAIC,QAAQ,CAAEC,UAAU,oGAAK,kBAAOf,QAAQ,2LAElCF,IAAG,CAACe,MAAM,CAACC,QAAQ,CAAC,yCAAlCZ,IAAI,mBAAJA,IAAI,CACXF,QAAQ,CAAC,CAAEG,IAAI,CAAE,mBAAmB,CAAEC,OAAO,CAACF,IAAK,CAAC,CAAC,CACrDa,UAAU,CAAC,OAAO,CAAC,CAAC,mFAEpBC,OAAO,CAACC,GAAG,cAAO,CAAC,sEAE1B,mEAED,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAM,CAAIJ,QAAQ,CAAEC,UAAU,oGAAK,kBAAOf,QAAQ,2LAEhCF,IAAG,CAACoB,MAAM,CAACJ,QAAQ,CAAC,yCAAnCZ,IAAI,mBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAE,mBAAmB,CAAEC,OAAO,CAAEF,IAAI,CAAC,CAAC,CACrDa,UAAU,CAAC,OAAO,CAAC,CAAC,mFAGpBC,OAAO,CAACC,GAAG,cAAO,CAAC,sEAE1B,mEAED,MAAO,IAAME,OAAM,CAAG,QAATA,OAAM,qGAAS,kBAAOnB,QAAQ,wHACvC,GAAI,CACAA,QAAQ,CAAC,CAACG,IAAI,CAAE,oBAAoB,CAAC,CAAC,CAC1C,CAAE,MAAOiB,KAAK,CAAE,CACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CACtB,CAAC,wDACJ"},"metadata":{},"sourceType":"module"}