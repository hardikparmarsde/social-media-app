{"ast":null,"code":"var _jsxFileName = \"D:\\\\node\\\\social-media-app\\\\client\\\\src\\\\components\\\\Forms\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createPost, updatePost } from \"../../actions/actions\";\nimport { useSelector } from \"react-redux\";\nimport Posts from \"../Posts/posts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    currentId,\n    setCurrentId\n  } = _ref;\n  // const navigateTo = useNavigate();\n  // const dispatch = useDispatch();\n  // const post = useSelector((state) => currentId ? state.posts.posts.find((p) => p._id === currentId) : null);        \n  // const user = JSON.parse(localStorage.getItem('profile'));    \n  // const [postData, setPostData] = useState({\n  //     tags: \"\", \n  //     message: \"\",\n  //     selectedFile: \"\",\n  //     name: \"\"\n  // })  \n  // useEffect(() => {\n  //     if(post) \n  //         setPostData(post)\n  // },[post])\n  // const handleOnSubmit =  async (e) => {\n  //     e.preventDefault();\n  //         if(currentId) \n  //             await dispatch(updatePost(currentId, { ...postData, name:  user?.result?.name})); \n  //          else \n  //             await dispatch(createPost({ ...postData, name:  user?.result?.name}));  \n  //         clear();\n  //         navigateTo('/');\n  // }\n  // const clear = () => {\n  //     setCurrentId(null);\n  //     setPostData({ selectedFile:'', message:'', tags:'' });\n  // }\n  // return (\n  //     <div className=\"md:w-1/3 mt-5 w-full md:mx-auto\">\n  //         <form className=\"p-5 shadow-lg space-y-2\" enctype=\"multipart/form-data\" onSubmit={handleOnSubmit}>\n  //             <div>\n  //             <div className=\"flex justify-center\">\n  //                 <svg className=\"fill-red-400\" xmlns=\"http://www.w3.org/2000/svg\" width=\"45\" height=\"45\" viewBox=\"0 0 16 16\">\n  //                     <path d=\"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z\"/>\n  //                 </svg>\n  //             </div>\n  //             <div className=\"flex justify-center\">\n  //                 <h1 className=\"text-gray-700 font-medium\">{post ? 'Edit': 'Upload'} a Post</h1>\n  //             </div>\n  //             </div>\n  //             <div className=\"space-y-1\">\n  //                 <textarea className=\"w-full rounded border border-gray-300 p-2  text-gray-800\" name=\"message\" type=\"text\" value={postData.message} onChange={(e) => setPostData({ ...postData, message: e.target.value})} placeholder=\"Write something about a post here...\" required/>\n  //             </div>\n  //             <div className=\"space-y-1\">\n  //                 <input className=\"w-full rounded border border-gray-300 p-2 text-gray-800\" name=\"tags\" type=\"text\" value={postData.tags} onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(' ')})} placeholder=\"Tags\" />\n  //             </div>\n  //             <div className=\"\">\n  //                 <input type=\"file\" accept=\".jpg, .jpeg, .png\"  name=\"selectedFile\"  onChange={(e) => setPostData({ ...postData, selectedFile: e.target.files[0] })} required={currentId == null}/>                    \n  //             </div>\n  //                 <div className=\"flex w-full mt-2\">\n  //                 <button type=\"submit\" className=\"w-1/2 p-3 bg-red-400 text-white rounded-l\">Submit</button>\n  //                 <button type=\"reset\" className=\"w-1/2 p-3 bg-gray-200 rounded-r\" onClick={clear}>Clear</button>\n  //             </div>\n  //         </form>\n  //     </div>\n  // )\n  const posts = useNavigate(state => state.posts.posts);\n  const pageSize = 6;\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentPosts, setCurrentPosts] = useState();\n  useEffect(() => {\n    const indexOfLastPost = currentPage * pageSize;\n    const indexOfFirstPost = indexOfLastPost - pageSize;\n    currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);\n  }, [currentPage]);\n\n  const handleClick = e => {\n    setCurrentPage(Number(e.id));\n  };\n\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(posts.length / pageSize); i++) {\n    pageNumbers.push(i);\n  }\n\n  const renderPageNumbers = pageNumbers.map(number => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: number,\n      onClick: handleClick,\n      children: number\n    }, number, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Posts, {\n      posts: currentPosts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: renderPageNumbers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Form, \"bKCOFyhOzWwx87hHjEySa2FEDd4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useNavigate","createPost","updatePost","useSelector","Posts","Form","currentId","setCurrentId","posts","state","pageSize","currentPage","setCurrentPage","currentPosts","setCurrentPosts","indexOfLastPost","indexOfFirstPost","slice","handleClick","e","Number","id","pageNumbers","i","Math","ceil","length","push","renderPageNumbers","map","number"],"sources":["D:/node/social-media-app/client/src/components/Forms/Form.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { createPost, updatePost } from \"../../actions/actions\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Posts from \"../Posts/posts\";\r\n\r\nconst Form = ({ currentId, setCurrentId}) => {\r\n\r\n    // const navigateTo = useNavigate();\r\n    // const dispatch = useDispatch();\r\n   \r\n    // const post = useSelector((state) => currentId ? state.posts.posts.find((p) => p._id === currentId) : null);        \r\n   \r\n    // const user = JSON.parse(localStorage.getItem('profile'));    \r\n    \r\n    // const [postData, setPostData] = useState({\r\n    //     tags: \"\", \r\n    //     message: \"\",\r\n    //     selectedFile: \"\",\r\n    //     name: \"\"\r\n    // })  \r\n\r\n    // useEffect(() => {\r\n    //     if(post) \r\n    //         setPostData(post)\r\n    // },[post])\r\n\r\n    // const handleOnSubmit =  async (e) => {\r\n    //     e.preventDefault();\r\n\r\n    //         if(currentId) \r\n    //             await dispatch(updatePost(currentId, { ...postData, name:  user?.result?.name})); \r\n    //          else \r\n    //             await dispatch(createPost({ ...postData, name:  user?.result?.name}));  \r\n\r\n    //         clear();\r\n    //         navigateTo('/');\r\n    // }\r\n\r\n    // const clear = () => {\r\n    //     setCurrentId(null);\r\n    //     setPostData({ selectedFile:'', message:'', tags:'' });\r\n    // }\r\n    \r\n    // return (\r\n    //     <div className=\"md:w-1/3 mt-5 w-full md:mx-auto\">\r\n    //         <form className=\"p-5 shadow-lg space-y-2\" enctype=\"multipart/form-data\" onSubmit={handleOnSubmit}>\r\n    //             <div>\r\n    //             <div className=\"flex justify-center\">\r\n    //                 <svg className=\"fill-red-400\" xmlns=\"http://www.w3.org/2000/svg\" width=\"45\" height=\"45\" viewBox=\"0 0 16 16\">\r\n    //                     <path d=\"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z\"/>\r\n    //                 </svg>\r\n    //             </div>\r\n    //             <div className=\"flex justify-center\">\r\n    //                 <h1 className=\"text-gray-700 font-medium\">{post ? 'Edit': 'Upload'} a Post</h1>\r\n    //             </div>\r\n\r\n    //             </div>\r\n    //             <div className=\"space-y-1\">\r\n    //                 <textarea className=\"w-full rounded border border-gray-300 p-2  text-gray-800\" name=\"message\" type=\"text\" value={postData.message} onChange={(e) => setPostData({ ...postData, message: e.target.value})} placeholder=\"Write something about a post here...\" required/>\r\n    //             </div>\r\n    //             <div className=\"space-y-1\">\r\n    //                 <input className=\"w-full rounded border border-gray-300 p-2 text-gray-800\" name=\"tags\" type=\"text\" value={postData.tags} onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(' ')})} placeholder=\"Tags\" />\r\n    //             </div>\r\n    //             <div className=\"\">\r\n    //                 <input type=\"file\" accept=\".jpg, .jpeg, .png\"  name=\"selectedFile\"  onChange={(e) => setPostData({ ...postData, selectedFile: e.target.files[0] })} required={currentId == null}/>                    \r\n    //             </div>\r\n    //                 <div className=\"flex w-full mt-2\">\r\n    //                 <button type=\"submit\" className=\"w-1/2 p-3 bg-red-400 text-white rounded-l\">Submit</button>\r\n    //                 <button type=\"reset\" className=\"w-1/2 p-3 bg-gray-200 rounded-r\" onClick={clear}>Clear</button>\r\n    //             </div>\r\n    //         </form>\r\n    //     </div>\r\n    // )\r\n    const posts = useNavigate(state => state.posts.posts);\r\n    const pageSize = 6;\r\n    const[currentPage, setCurrentPage] = useState(1);\r\n    const[currentPosts, setCurrentPosts] = useState();\r\n  \r\n    useEffect(() => {\r\n      const indexOfLastPost = currentPage * pageSize;\r\n      const indexOfFirstPost = indexOfLastPost - pageSize;\r\n      currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);  \r\n    }, [currentPage])\r\n  \r\n    const handleClick = (e) => {\r\n      setCurrentPage(Number(e.id));\r\n    }\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(posts.length / pageSize); i++) {\r\n      pageNumbers.push(i);\r\n    }\r\n  \r\n    const renderPageNumbers = pageNumbers.map(number => {\r\n      return (\r\n        <li\r\n          key={number}\r\n          id={number}\r\n          onClick={handleClick}\r\n        >\r\n          {number}\r\n        </li>\r\n      );\r\n    });\r\n  \r\n  \r\n    return(\r\n      <div>\r\n          <Posts posts={currentPosts}/>\r\n          <div>\r\n            {renderPageNumbers}\r\n          </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Form;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,uBAAvC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;;AAEA,MAAMC,IAAI,GAAG,QAAgC;EAAA;;EAAA,IAA/B;IAAEC,SAAF;IAAaC;EAAb,CAA+B;EAEzC;EACA;EAEA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAMC,KAAK,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACD,KAAN,CAAYA,KAAtB,CAAzB;EACA,MAAME,QAAQ,GAAG,CAAjB;EACA,MAAK,CAACC,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,CAAD,CAA7C;EACA,MAAK,CAACe,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,EAA/C;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMkB,eAAe,GAAGJ,WAAW,GAAGD,QAAtC;IACA,MAAMM,gBAAgB,GAAGD,eAAe,GAAGL,QAA3C;IACAG,YAAY,GAAGL,KAAK,CAACS,KAAN,CAAYD,gBAAZ,EAA8BD,eAA9B,CAAf;EACD,CAJQ,EAIN,CAACJ,WAAD,CAJM,CAAT;;EAMA,MAAMO,WAAW,GAAIC,CAAD,IAAO;IACzBP,cAAc,CAACQ,MAAM,CAACD,CAAC,CAACE,EAAH,CAAP,CAAd;EACD,CAFD;;EAGA,MAAMC,WAAW,GAAG,EAApB;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIC,IAAI,CAACC,IAAL,CAAUjB,KAAK,CAACkB,MAAN,GAAehB,QAAzB,CAArB,EAAyDa,CAAC,EAA1D,EAA8D;IAC5DD,WAAW,CAACK,IAAZ,CAAiBJ,CAAjB;EACD;;EAED,MAAMK,iBAAiB,GAAGN,WAAW,CAACO,GAAZ,CAAgBC,MAAM,IAAI;IAClD,oBACE;MAEE,EAAE,EAAEA,MAFN;MAGE,OAAO,EAAEZ,WAHX;MAAA,UAKGY;IALH,GACOA,MADP;MAAA;MAAA;MAAA;IAAA,QADF;EASD,CAVyB,CAA1B;EAaA,oBACE;IAAA,wBACI,QAAC,KAAD;MAAO,KAAK,EAAEjB;IAAd;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA,UACGe;IADH;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAQH,CA5GD;;GAAMvB,I;UAoEYL,W;;;KApEZK,I;AA8GN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}