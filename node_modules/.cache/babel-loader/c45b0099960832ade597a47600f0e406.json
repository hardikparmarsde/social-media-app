{"ast":null,"code":"import _slicedToArray from\"D:/node/social-media-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import logo from\"../images/logo.png\";import{logout}from\"../actions/actions\";import decode from'jwt-decode';import{Link,useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem('profile'))),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var dispatch=useDispatch();var location=useLocation();var navigateTo=useNavigate();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mobileMenu=_useState6[0],setMobileMenu=_useState6[1];var handleMobileMenu=function handleMobileMenu(){setMobileMenu(!mobileMenu);};var handleLogout=function handleLogout(){dispatch(logout());setUser(null);navigateTo('/');};var handleSearch=function handleSearch(e){if(e.keyCode===13){}};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;if(token){var decodedToken=decode(token);if(decodedToken.exp*1000<new Date().getTime())handleLogout();}setUser(JSON.parse(localStorage.getItem('profile')));},[location]);return/*#__PURE__*/_jsxs(\"nav\",{className:\"w-full md:mx-auto md:w-2/3  border-gray-300 px-2 md:px-0 sm:px-2 lg-tablets:px-6 py-2.5 rounded mb-2 md:border-b\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between flex-wrap items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-none\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"md:w-40 sm:w-20\"})})}),user&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden sm:block\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleMobileMenu,className:\"\",children:mobileMenu?/*#__PURE__*/_jsx(\"svg\",{className:\"fill-gray-800\",xmlns:\"http://www.w3.org/2000/svg\",width:\"25\",height:\"25\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"fill-gray-800\",xmlns:\"http://www.w3.org/2000/svg\",width:\"25\",height:\"25\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"})})})}),user&&/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block p-2\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/feed\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:text-red-500 md:p-0 dark:text-white\",\"aria-current\":\"page\",children:\"Feed\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/post\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\",children:\"Post\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:handleLogout,className:\"\\r block \\r py-2 \\r pr-4 \\r pl-3 \\r text-gray-700 \\r border-b \\r border-gray-100 \\r hover:bg-gray-50 \\r md:hover:bg-transparent \\r md:border-0\\r cursor-pointer\\r md:p-0\",children:\"Logout\"})})]})})]}),mobileMenu&&user&&/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden w-full p-2\",id:\"mobile-menu\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/feed\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"block py-2 pr-4 pl-3 text-gray-700 rounded\",children:\"Feed\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/post\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"block py-2 pr-4 pl-3 text-gray-700 rounded\",children:\"Post\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:handleLogout,className:\"block cursor-pointer py-2 pr-4 pl-3 text-gray-700  md:p-0 rounded\",children:\"Logout\"})})]})})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","logo","logout","decode","Link","useNavigate","useDispatch","useLocation","Header","search","setSearch","JSON","parse","localStorage","getItem","user","setUser","dispatch","location","navigateTo","mobileMenu","setMobileMenu","handleMobileMenu","handleLogout","handleSearch","e","keyCode","token","decodedToken","exp","Date","getTime"],"sources":["D:/node/social-media-app/client/src/components/header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\n\r\nimport logo from \"../images/logo.png\";\r\nimport { logout } from \"../actions/actions\";\r\nimport decode from 'jwt-decode';\r\n\r\nimport { Link, useNavigate} from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Header = () => {  \r\n    \r\n    const[search, setSearch] = useState();\r\n    const[user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n    const navigateTo = useNavigate();\r\n\r\n    const[mobileMenu, setMobileMenu] = useState(false);\r\n    \r\n    const handleMobileMenu = () => {\r\n        setMobileMenu(!mobileMenu);\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        dispatch(logout());\r\n        setUser(null);\r\n        navigateTo('/')\r\n    }\r\n\r\n    const handleSearch = (e) => {\r\n        if(e.keyCode === 13) {\r\n\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const token = user?.token;\r\n    \r\n        if (token) {\r\n          const decodedToken = decode(token);\r\n    \r\n          if (decodedToken.exp * 1000 < new Date().getTime())\r\n                handleLogout();\r\n        }\r\n    \r\n        setUser(JSON.parse(localStorage.getItem('profile')));\r\n      }, [location]);\r\n    \r\n    return(\r\n        <nav className=\"w-full md:mx-auto md:w-2/3  border-gray-300 px-2 md:px-0 sm:px-2 lg-tablets:px-6 py-2.5 rounded mb-2 md:border-b\">\r\n            <div className=\"flex justify-between flex-wrap items-center\">\r\n                <div className=\"flex-none\">\r\n                        <Link to='/'>\r\n                            <img src={logo} alt=\"logo\" className=\"md:w-40 sm:w-20\"/>\r\n                        </Link>\r\n                </div>                \r\n                {\r\n                    user &&\r\n                <div className=\"md:hidden sm:block\">\r\n                    <button onClick={handleMobileMenu} className=\"\">\r\n                        {\r\n                        mobileMenu ? \r\n                            <svg className=\"fill-gray-800\" xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                            </svg>\r\n                            :\r\n                            <svg className=\"fill-gray-800\" xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 16 16\">\r\n                                <path fill-rule=\"evenodd\" d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n                            </svg>\r\n                        }\r\n                    </button>\r\n                </div>\r\n                }\r\n                {\r\n                    user &&\r\n                \r\n                <div className=\"hidden md:block p-2\">\r\n                            <ul className=\"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium items-center\">\r\n                                <Link to='/feed'>\r\n                                    <li>\r\n                                        <a className=\"block py-2 pr-4 pl-3 text-white rounded md:bg-transparent md:text-red-500 md:p-0 dark:text-white\" aria-current=\"page\">Feed</a>\r\n                                    </li>\r\n                                </Link>\r\n                                    <Link to='/post'>\r\n                                    <li>\r\n                                        <a className=\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\">\r\n                                         Post\r\n                                        </a>\r\n                                    </li>\r\n                                    </Link>\r\n                                    <li>\r\n                                        <a \r\n                                        onClick={handleLogout } \r\n                                        className=\"\r\n                                        block \r\n                                        py-2 \r\n                                        pr-4 \r\n                                        pl-3 \r\n                                        text-gray-700 \r\n                                        border-b \r\n                                        border-gray-100 \r\n                                        hover:bg-gray-50 \r\n                                        md:hover:bg-transparent \r\n                                        md:border-0\r\n                                        cursor-pointer\r\n                                        md:p-0\">\r\n                                        Logout\r\n                                        </a>\r\n                                    </li>\r\n                            </ul>\r\n                </div>\r\n            }\r\n            </div>\r\n            {\r\n            mobileMenu && user &&\r\n            <div className=\"md:hidden w-full p-2\" id=\"mobile-menu\">\r\n                <ul className=\"flex flex-col mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium items-center\">\r\n                    <Link to='/feed'>\r\n                        <li>\r\n                            <a className=\"block py-2 pr-4 pl-3 text-gray-700 rounded\">Feed</a>\r\n                        </li>\r\n                    </Link>\r\n                        <Link to='/post'>\r\n                            <li>\r\n                                <a className=\"block py-2 pr-4 pl-3 text-gray-700 rounded\">Post</a>\r\n                            </li>\r\n                        </Link>\r\n                    <li>\r\n                            <a \r\n                            onClick={handleLogout }\r\n                            className=\"block cursor-pointer py-2 pr-4 pl-3 text-gray-700  md:p-0 rounded\"\r\n                            >\r\n                            Logout\r\n                            </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            }\r\n        </nav>\r\n)}\r\n\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}