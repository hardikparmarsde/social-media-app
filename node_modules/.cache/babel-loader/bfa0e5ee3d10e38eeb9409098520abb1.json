{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { useDispatch } from 'react-redux';\nimport { fetchPosts } from '../../api';\nexport const getPosts = createAsyncThunk(\"posts/getPosts\", async () => {\n  const {\n    data\n  } = await fetchPosts();\n  return data;\n});\nexport const postsSlice = createSlice({\n  name: 'posts',\n  initialState: {\n    posts: []\n  },\n  reducers: {\n    getPostsActions: (state, action) => {\n      switch (action.type) {\n        case 'FETCH_ALL':\n          {\n            state.posts = action.payload;\n          }\n\n        case 'CREATE':\n          return state;\n\n        default:\n          return state;\n      }\n    }\n  },\n  extraReducers: {\n    [getPosts.fulfilled]: (state, action) => {\n      state.posts.push(action.payload);\n      state.isSuccess = true;\n    },\n    [getPosts.pending]: (state, action) => {\n      state.isPosting = true;\n    },\n    [getPosts.rejected]: (state, action) => {}\n  }\n});\nexport const {\n  getPostsActions\n} = postsSlice.actions;\nexport default postsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","useDispatch","fetchPosts","getPosts","data","postsSlice","name","initialState","posts","reducers","getPostsActions","state","action","type","payload","extraReducers","fulfilled","push","isSuccess","pending","isPosting","rejected","actions","reducer"],"sources":["D:/node/social-media-app/client/src/components/Posts/PostsSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchPosts } from '../../api';\r\n\r\nexport const getPosts = createAsyncThunk(\r\n    \"posts/getPosts\",\r\n    async () => {\r\n        const { data } = await fetchPosts();\r\n    \r\n        return data;\r\n    }\r\n);\r\n  \r\n\r\nexport const postsSlice = createSlice({\r\n  name: 'posts',\r\n  initialState: {\r\n    posts: [],\r\n  },\r\n  reducers: {\r\n     getPostsActions: (state, action) => {\r\n        switch(action.type) {\r\n            case 'FETCH_ALL': {\r\n                state.posts = action.payload;\r\n            }\r\n            case 'CREATE':\r\n                return state;\r\n            default:\r\n                return state;    \r\n            }\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [getPosts.fulfilled]: (state, action) => {\r\n        state.posts.push(action.payload);\r\n        state.isSuccess = true;\r\n    },\r\n    [getPosts.pending]: (state, action) => {\r\n        state.isPosting = true;\r\n\r\n    },\r\n    [getPosts.rejected]: (state, action) => {\r\n    }\r\n  }\r\n})\r\n\r\nexport const { getPostsActions } = postsSlice.actions;\r\n\r\nexport default postsSlice.reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,WAA3B;AAEA,OAAO,MAAMC,QAAQ,GAAGH,gBAAgB,CACpC,gBADoC,EAEpC,YAAY;EACR,MAAM;IAAEI;EAAF,IAAW,MAAMF,UAAU,EAAjC;EAEA,OAAOE,IAAP;AACH,CANmC,CAAjC;AAUP,OAAO,MAAMC,UAAU,GAAGN,WAAW,CAAC;EACpCO,IAAI,EAAE,OAD8B;EAEpCC,YAAY,EAAE;IACZC,KAAK,EAAE;EADK,CAFsB;EAKpCC,QAAQ,EAAE;IACPC,eAAe,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACjC,QAAOA,MAAM,CAACC,IAAd;QACI,KAAK,WAAL;UAAkB;YACdF,KAAK,CAACH,KAAN,GAAcI,MAAM,CAACE,OAArB;UACH;;QACD,KAAK,QAAL;UACI,OAAOH,KAAP;;QACJ;UACI,OAAOA,KAAP;MAPR;IASH;EAXO,CAL0B;EAkBpCI,aAAa,EAAE;IACb,CAACZ,QAAQ,CAACa,SAAV,GAAsB,CAACL,KAAD,EAAQC,MAAR,KAAmB;MACrCD,KAAK,CAACH,KAAN,CAAYS,IAAZ,CAAiBL,MAAM,CAACE,OAAxB;MACAH,KAAK,CAACO,SAAN,GAAkB,IAAlB;IACH,CAJY;IAKb,CAACf,QAAQ,CAACgB,OAAV,GAAoB,CAACR,KAAD,EAAQC,MAAR,KAAmB;MACnCD,KAAK,CAACS,SAAN,GAAkB,IAAlB;IAEH,CARY;IASb,CAACjB,QAAQ,CAACkB,QAAV,GAAqB,CAACV,KAAD,EAAQC,MAAR,KAAmB,CACvC;EAVY;AAlBqB,CAAD,CAA9B;AAgCP,OAAO,MAAM;EAAEF;AAAF,IAAsBL,UAAU,CAACiB,OAAvC;AAEP,eAAejB,UAAU,CAACkB,OAA1B"},"metadata":{},"sourceType":"module"}